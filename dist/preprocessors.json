[
  {
    "name": "message-matching",
    "description": "Matches the message to the appropriate skill",
    "async": false,
    "executeFunction": "async (user: UserDataInstance, messages: ChatMessage[], channel: string): Promise<PreProcessorResult> => {\n        console.log(\"Message matching pre processor\", user, messages, channel);\n        console.log(\"User data\", await user.data);\n        console.log(\"Messages\", messages);\n        console.log(\"Channel\", channel);\n        \n        //check if message type text contains test and return the message\n        const testMessage = messages.find((message) => message.type === \"text\" && message.text.includes(\"test\"));\n        if (testMessage) {\n            return {\n                action: 'proceed',\n                modifiedMessage: [{ type: \"text\", text: \"Tell the user that you got their test message and nothing else\" }]\n            };\n        }\n        \n        // Example blocking logic\n        const shouldBlock = messages.some((message) => message.type === \"text\" && message.text.includes(\"block\"));\n        if (shouldBlock) {\n            return {\n                action: 'block',\n                response: \"Message blocked by preprocessor\"\n            };\n        }\n\n        return { action: 'proceed' };\n    }",
    "code": "H4sIAAAAAAAACo1UPW/bMBDd/SsuHAQSIJTOEugO/djSdGinIAho8iSrpUmBPCU2ZP33gpLdxG4LdBGke+++34nrdPAG+JAwSthhSrpFCWarvUcnQK1hXAHc3sKnPZqBEGiLsBm8dWihj8FgSiGCCRZXAM86QlT3mx9oqLTYdB6/xtBjpEOdMXfGWqT7F3/GPmIysespxJml/876oneYZkJ3JvQxUKBDj+VWpzfUmWUVJ4lCrccmRJ4tAToPKCInGeTYIlX4EB4l+mGHUW8cVjfvJjHJYfaUQfrs3TUciyJnCQ2gUizMydnx+MbWDN5QFzwTOZlDggShAc1RiJuuNNo5TjKJokg3SoWiyEWkpQgu1Bof0mUh3CvHUSYhjkdfviKTqCPSED3QNLfZKlLrgUc+TpI9PWG6C3ZwyOT4rN2wtCRJzNy9Gqfa8r0cLTZ6cEvu7STq3exU4r4PkZJq+X7x6NWskGUeQq25CT4Fh6ULLWd3i2Bgp8lsO99CH/FVFUwuXvLC53vCCFaTZlK/6I6Ayvx1xTpFTkziFfJh0SbLgbFsOm+5UWtT5mUopRjhnlhRmDK/lJ03brCYOCNMxIR4P+p5URWb60TL5C7YrunQnnJWD2OOVS2RZH5W7Bs6N2s/XwrQVhMcwgBtoGztIuTw5wMC7S34QPNI0CVk0+NUYZnCDv+v2I0L5udFtYtFRkx98Amr37OfAbSwOeTpvw5/qv7odBJyq/p6tQJYAeSpEuBy159P+gUFl1IoT0qB4/EKqVcAJykui7wK9a+fSr2axC/LeSO3eAQAAA=="
  }
]