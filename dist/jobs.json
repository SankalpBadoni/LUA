[
  {
    "name": "health-check",
    "description": "System health monitoring",
    "schedule": {
      "type": "interval",
      "seconds": 300
    },
    "timeout": 30,
    "execute": "async () => {\n    console.log('❤️ Running health check...');\n    const checks: any = {};\n\n    // Check 1: Database connectivity\n    try {\n      const testQuery = await Data.get('health-checks', {}, 1, 1);\n      checks.database = {\n        status: 'healthy',\n        responseTime: Date.now()\n      };\n    } catch (error) {\n      checks.database = {\n        status: 'unhealthy',\n        error: String(error)\n      };\n    }\n\n    // Check 2: Products API\n    try {\n      const startTime = Date.now();\n      await Products.get(1, 1);\n      const responseTime = Date.now() - startTime;\n      \n      checks.productsApi = {\n        status: 'healthy',\n        responseTime: `${responseTime}ms`\n      };\n    } catch (error) {\n      checks.productsApi = {\n        status: 'unhealthy',\n        error: String(error)\n      };\n    }\n\n    // Determine overall health\n    const allHealthy = Object.values(checks).every((check: any) => check.status === 'healthy');\n    const overallStatus = allHealthy ? 'healthy' : 'degraded';\n\n    // Log health check result\n    await Data.create('health-checks', {\n      status: overallStatus,\n      checks,\n      timestamp: new Date().toISOString()\n    });\n\n    // Alert if unhealthy (in production, send to monitoring service)\n    if (!allHealthy) {\n      console.warn('⚠️ System health degraded:', checks);\n      // TODO: Send alert to monitoring service\n    }\n\n    return {\n      status: overallStatus,\n      checks,\n      timestamp: new Date().toISOString()\n    };\n  }",
    "executeFunction": "async () => {\n    console.log('❤️ Running health check...');\n    const checks: any = {};\n\n    // Check 1: Database connectivity\n    try {\n      const testQuery = await Data.get('health-checks', {}, 1, 1);\n      checks.database = {\n        status: 'healthy',\n        responseTime: Date.now()\n      };\n    } catch (error) {\n      checks.database = {\n        status: 'unhealthy',\n        error: String(error)\n      };\n    }\n\n    // Check 2: Products API\n    try {\n      const startTime = Date.now();\n      await Products.get(1, 1);\n      const responseTime = Date.now() - startTime;\n      \n      checks.productsApi = {\n        status: 'healthy',\n        responseTime: `${responseTime}ms`\n      };\n    } catch (error) {\n      checks.productsApi = {\n        status: 'unhealthy',\n        error: String(error)\n      };\n    }\n\n    // Determine overall health\n    const allHealthy = Object.values(checks).every((check: any) => check.status === 'healthy');\n    const overallStatus = allHealthy ? 'healthy' : 'degraded';\n\n    // Log health check result\n    await Data.create('health-checks', {\n      status: overallStatus,\n      checks,\n      timestamp: new Date().toISOString()\n    });\n\n    // Alert if unhealthy (in production, send to monitoring service)\n    if (!allHealthy) {\n      console.warn('⚠️ System health degraded:', checks);\n      // TODO: Send alert to monitoring service\n    }\n\n    return {\n      status: overallStatus,\n      checks,\n      timestamp: new Date().toISOString()\n    };\n  }",
    "code": "H4sIAAAAAAAACp1UXW/cNhB8v1+xFooDCTCKUxQpIIFXBHBc9KF1UPctKZI9ak+SK5ECufJF0Om/F6JO/kiNFuibxJ3hDLnDFRgGa0Dcub0EvYNxA/D6Nbz/SqZnAq4I9r0tGirgzu3BuII2APfoweqb/R0ZTgs61JY+eNeR5yGfa2atlcQ3R7vWrigYX3fsfES5l1G/YUshAqoV0HnHjoeO0grDE2hENVqwIql348F5Ma8EqC2QtIJVUGNJnNHH8Kci27fkcd9QdnE5yUn1kamCwpldHwRtt7OKOwBpnbgonpxOT9YOvTVcO5vIWawhBg/uAE6QlBdVarBpBCsvt1t/oXXYbmcTfjEhpN7RR//ciEBtBCkv5emE6WNlkrkn7r0FnuIxa8161wsrxkklnz9T+NUVfUOJGu+x6ZcjKZYRW+pxyhtRqrGgA/bNol1MMm8jKaWvnfMcdC3KhTHoGIQZNhpng2sobVwpkk/99z++/eFTf/3+8hp+762tbQkVYcMVmIrMX2maJjKfb4JnVfbDOP+gxiPWDFfIODdYJAvpVSSFRI2TeqPeyJzTAhn3GEiPgZH7kJ2hQ6I8hc7ZQH/ULWVXyJRadxRymgyyqQTK8SV6bx82IO+dz27Z17YUKKfp0d/jdvli9YN3RW84RLvRW+zvE+ArzGMYI+xdV/+X4y/fjX5qw5dnfl/k/5vl2QWtTyE2OwiWKd2THwTqHabLLlrrBx9SBU0/PfxmSUGlx4KKZI3Vk/YYT8j0zw6dzQW1rGSsuG4pMLZdZuk4k0nIlN0vtzdnv3KSik6nNUJH9DZm6O27y3OGbofA1K4RWm1liWL5PxUnVegh32wAluH185zFioDOQ2x9s3DwroVz9DcAs0leUdcrSMPzN5KenxCcTt9U8gfFdVzOI/JYcxU/ahsYrSHo0GNLTH4D8Ozyv5GOQzjfTPJvaXZHrJUFAAA="
  }
]